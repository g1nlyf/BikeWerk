# eubike execution policy (project-scoped)
# Patterns are prefix matches on tokenized command lines.

# Auto-approve: safe read-only / checks
prefix_rule(decision="allow", pattern=["git", "status"])
prefix_rule(decision="allow", pattern=["git", "diff"])
prefix_rule(decision="allow", pattern=["git", "show"])
prefix_rule(decision="allow", pattern=["git", "log"])
prefix_rule(decision="allow", pattern=["rg"])
prefix_rule(decision="allow", pattern=["findstr"])
prefix_rule(decision="allow", pattern=["npm", "run", "lint"])
prefix_rule(decision="allow", pattern=["npm", "run", "build"])
prefix_rule(decision="allow", pattern=["npm", "test"])

# Always prompt: risky / destructive / deploy / DB ops
prefix_rule(decision="prompt", pattern=["git", "push"])
prefix_rule(decision="prompt", pattern=["git", "reset"])
prefix_rule(decision="prompt", pattern=["git", "clean"])
prefix_rule(decision="prompt", pattern=["pm2"])
prefix_rule(decision="prompt", pattern=["npm", ["i", "install"], "-g"])
prefix_rule(decision="prompt", pattern=["npm", "publish"])
prefix_rule(decision="prompt", pattern=["npm", "run", "migrate"])
prefix_rule(decision="prompt", pattern=["npm", "run", "setup-db"])
prefix_rule(decision="prompt", pattern=["npm", "run", "sync-db"])
prefix_rule(decision="prompt", pattern=["rm"])
prefix_rule(decision="prompt", pattern=["del"])
prefix_rule(decision="prompt", pattern=["rmdir"])
prefix_rule(decision="prompt", pattern=["Remove-Item"])
prefix_rule(decision="prompt", pattern=["powershell", "-File", "deploy.ps1"])
prefix_rule(decision="prompt", pattern=["powershell", "deploy.ps1"])
prefix_rule(decision="prompt", pattern=["pwsh", "-File", "deploy.ps1"])
prefix_rule(decision="prompt", pattern=["pwsh", "deploy.ps1"])
prefix_rule(decision="prompt", pattern=["deploy.ps1"])
prefix_rule(decision="prompt", pattern=["cmd", "/c", "deploy.bat"])
prefix_rule(decision="prompt", pattern=["deploy.bat"])
prefix_rule(decision="prompt", pattern=["setup-server.sh"])
prefix_rule(decision="prompt", pattern=["bash", "setup-server.sh"])
prefix_rule(decision="prompt", pattern=["sh", "setup-server.sh"])
